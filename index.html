<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Anaesthesie Protokoll</title>
<style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
        }
        table {
            width: 50%;
            margin: 20px auto;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid black;
        }
        th, td {
            padding: 10px;
        }
        button {
            margin: 10px;
            padding: 10px;
            font-size: 16px;
        }
    </style>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<style>
    .annotation-input {
        width: 100%;
        box-sizing: border-box;
    }
</style>
<link href="manifest.json" rel="manifest"/>
<meta content="yes" name="mobile-web-app-capable"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
<meta content="DokuApp" name="apple-mobile-web-app-title"/>
<meta content="default" name="apple-mobile-web-app-status-bar-style"/>
<link href="icon-192.png" rel="apple-touch-icon"/>
</head>
<body>
<div id="buttonsPage">
<div class="column blue-column">
<h1>Analgetika</h1>
<button onclick="logButtonClick('Fentanyl 50yg')" style="background-color: #00FFFF; color: black;">Fentanyl 50yg</button>
<button onclick="logButtonClick('Fentanyl 100yg')" style="background-color: #00FFFF; color: black;">Fentanyl 100yg</button>
<button onclick="logButtonClick('Diclofenac 75mg KI')" style="background-color: #00FFFF; color: black;">Diclofenac 75mg KI</button>
<button onclick="logButtonClick('Metamizol 1g KI')" style="background-color: #00FFFF; color: black;">Metamizol 1g KI</button>
<button onclick="logButtonClick('Metamizol 2,5g KI')" style="background-color: #00FFFF; color: black;">Metamizol 2,5g KI</button>
<button onclick="logButtonClick('Paracetamol 1g KI')" style="background-color: #00FFFF; color: black;">Paracetamol 1g KI</button>
<button onclick="logButtonClick('Dipidolor 3mg/ml')" style="background-color: #00FFFF; color: black;">Dipidolor 3mg/ml</button>
<button onclick="logButtonClick('Dipidolor 7,5mg KI')" style="background-color: #00FFFF; color: black;">Dipidolor 7,5mg KI</button>
<button onclick="logButtonClick('Lornoxicam 8mg KI')" style="background-color: #00FFFF; color: black;">Lornoxicam 8mg KI</button>
<button onclick="logButtonClick('Nalbpuhin 1:10')" style="background-color: #00FFFF; color: black;">Nalbpuhin 1:10</button>
<button onclick="logButtonClick('andere')">andere</button>
<br/><button onclick="viewTable()"><b>Zeige Tabelle</b></button>
</div>
<div class="column yellow-column">
<h1>Hypnotika</h1>
<button onclick="logButtonClick('Propofol 50mg')" style="background-color: #FFFF00; color: black;">Propofol 50mg</button>
<button onclick="logButtonClick('Propofol 100mg')" style="background-color: #FFFF00; color: black;">Propofol 100mg</button>
<button onclick="logButtonClick('Propofol 200mg')" style="background-color: #FFFF00; color: black;">Propofol 200mg</button>
<button onclick="logButtonClick('andere')">andere</button>
<br/><button onclick="viewTable()"><b>Zeige Tabelle</b></button>
</div>
<div class="column red-column">
<h1>Herz-Kreislauf</h1>
<button onclick="logButtonClick('Atropin 0,5mg')" style="background-color: #00FF00; color: black;">Atropin 0,5mg</button>
<button onclick="logButtonClick('Phenylephrine 40yg')" style="background-color: #FFC0CB; color: black;">Phenylephrine 40yg</button>
<button onclick="logButtonClick('Phenylephrine 80yg')" style="background-color: #FFC0CB; color: black;">Phenylephrine 80yg</button>
<button onclick="logButtonClick('Effortil 1mg')" style="background-color: #FFC0CB; color: black;">Effortil 1mg</button>
<button onclick="logButtonClick('Effortil 2mg')" style="background-color: #FFC0CB; color: black;">Effortil 2mg</button>
<button onclick="logButtonClick('andere')">andere</button>
<br/><button onclick="viewTable()"><b>Zeige Tabelle</b></button>
</div>
<div class="column red-column">
<h1>Infusionen</h1>
<button onclick="logButtonClick('ELO-Mel 1000ml')">ELO-Mel 1000ml</button>
<button onclick="logButtonClick('Ringer Lac. 1000ml')">Ringer Lac. 1000ml</button>
<button onclick="logButtonClick('andere')">andere</button>
<br/><button onclick="viewTable()"><b>Zeige Tabelle</b></button>
</div>
<div class="column gray-column">
<h1>Perfusoren</h1>
<button onclick="logButtonClick('Remifentanil 0,1mg/ml - START')" style="background-color: #808080; color: black;">Remifentanil 0,1mg/ml - START</button>
<button onclick="logButtonClick('Remifentanildosis ml/h')" style="background-color: #808080; color: black;">Remifentanildosis ml/h</button>
<button onclick="logButtonClick('Remifentanil 0,1mg/ml - STOPP')" style="background-color: #808080; color: black;">Remifentanil 0,1mg/ml - STOPP</button>
<button onclick="logButtonClick('Propofol 2% - START')" style="background-color: #808080; color: black;">Propofol 2% - START</button>
<button onclick="logButtonClick('Propofoldosis ml/h')" style="background-color: #808080; color: black;">Propofoldosis ml/h</button>
<button onclick="logButtonClick('Propofol 2% - STOPP')" style="background-color: #808080; color: black;">Propofol 2% - STOPP</button>
<button onclick="logButtonClick('andere')">andere</button>
<br/><button onclick="viewTable()"><b>Zeige Tabelle</b></button>
</div>
<div class="column gray-column">
<h1>PONV</h1>
<button onclick="logButtonClick('Ondansetron 4mg')" style="background-color: #EDDA74; color: black;">Ondansetron 4mg</button>
<button onclick="logButtonClick('Dexamethason 4mg')" style="background-color: #EDDA74; color: black;">Dexamethason 4mg</button>
<button onclick="logButtonClick('Droperidol 1,25mg')" style="background-color: #EDDA74; color: black;">Droperidol 1,25mg</button>
<button onclick="logButtonClick('Metoclopramid 10mg')" style="background-color: #EDDA74; color: black;">Metoclopramid 10mg</button>
<button onclick="logButtonClick('andere')">andere</button>
<br/><button onclick="viewTable()"><b>Zeige Tabelle</b></button>
</div>
<h1>Zeitmarker</h1>
<button onclick="logButtonClick('Anaesthesie anwesend')">Anaeshtesie anwesend</button>
<button onclick="logButtonClick('Praeoxygenierung')">Praeoxygenierung</button>
<button onclick="logButtonClick('Anaesthesie Start')">Anaesthesie Start</button>
<button onclick="logButtonClick('Larynxmaske')">Larynxmaske</button>
<button onclick="logButtonClick('Endotracheltubus')">Endotracheltubus</button>
<button onclick="logButtonClick('Freigabe')">Freigabe</button>
<button onclick="logButtonClick('Hautschnitt')">Hautschnitt</button>
<button onclick="logButtonClick('Naht')">Naht</button>
<button onclick="logButtonClick('Eingriff Ende')">Eingriff Ende</button>
<button onclick="logButtonClick('andere')">andere</button>
<br/><button onclick="viewTable()"><b>Zeige Tabelle</b></button>
</div>
<div id="tablePage" style="display: none;">
<h1>Dokumentationstabelle</h1>
<table id="logTable">
<tr>
<th>Button</th>
<th>Uhrzeit</th>
</tr>
</table>
<button onclick="goBack()">HOME</button>
<button onclick="saveTable()">Tabelle als HTML speichern</button>
<button onclick="saveTableAsPDF()">Tabelle als PDF speichern</button>
<button onclick="printTable()">Tabelle drucken</button>
</div>
<script>
    function logButtonClick(buttonTitle) {
        var currentTime = new Date();
        var formattedTime = currentTime.toLocaleTimeString();
        
        var table = document.getElementById("logTable");
        var row = table.insertRow(1);
        var cell1 = row.insertCell(0);
        var cell2 = row.insertCell(1);
        cell1.innerHTML = buttonTitle;
        cell2.innerHTML = formattedTime;
    }

    function viewTable() {
        document.getElementById("buttonsPage").style.display = "none";
        document.getElementById("tablePage").style.display = "block";
    }

    function goBack() {
        document.getElementById("buttonsPage").style.display = "block";
        document.getElementById("tablePage").style.display = "none";
    }

    function saveTable() {
        var tableHtml = document.getElementById("logTable").outerHTML;
        var blob = new Blob([tableHtml], { type: "text/html" });
        var a = document.createElement("a");
        a.href = URL.createObjectURL(blob);
        a.download = "button_dokumentation.html";
        a.click();
    }

    function saveTableAsPDF() {
        var element = document.getElementById("logTable");
        html2pdf(element);
    }

    function printTable() {
        window.print();
    }
function logButtonClick(buttonTitle) {
    var currentTime = new Date();
    var formattedTime = currentTime.toLocaleTimeString();
    
    var table = document.getElementById("logTable");
    var row = table.insertRow(1);
    var cell1 = row.insertCell(0);
    var cell2 = row.insertCell(1);
    var cell3 = row.insertCell(2);
    cell1.innerHTML = buttonTitle;
    cell2.innerHTML = formattedTime;

    // F?ge eine Eingabefeldzelle f?r Anmerkungen hinzu
    var annotationInput = document.createElement("input");
    annotationInput.setAttribute("type", "text");
    annotationInput.setAttribute("class", "annotation-input");
    cell3.appendChild(annotationInput);
}
</script>
<div id="tablePage" style="display: none;">
<h1>Dokumentationstabelle</h1>
<table id="logTable">
<tr>
<th>Button</th>
<th>Uhrzeit</th>
<th>Anmerkungen</th>
</tr>
</table>
<button onclick="goBack()">Zur?ck zu den Buttons</button>
<button onclick="saveTable()">Tabelle als HTML speichern</button>
<button onclick="saveTableAsPDF()">Tabelle als PDF speichern</button>
<button onclick="printTable()">Tabelle drucken</button>
</div>
</body>
</html>